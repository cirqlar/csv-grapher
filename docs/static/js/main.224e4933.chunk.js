(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{2:function(e,t,a){e.exports={container:"fileSelect_container__1zFf7",containerClosed:"fileSelect_containerClosed__3ndwh",form:"fileSelect_form__1AHyU",fileLabel:"fileSelect_fileLabel__oNakg",config:"fileSelect_config__2iyQ6",checkbox:"fileSelect_checkbox__3hVZk",buttonForm:"fileSelect_buttonForm__NUf4e",buttonSubmit:"fileSelect_buttonSubmit__3KVba",buttonClear:"fileSelect_buttonClear__1Sad3"}},21:function(e,t,a){e.exports=a(37)},34:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),o=a(4),u=(a(32),a(18)),i=a(1),s=a(7),f=a.n(s),b=(a(20),a(5)),d=a(13),p=a(16),h=a.n(p);function m(e,t){return g.apply(this,arguments)}function g(){return(g=Object(d.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){h.a.parse(t,Object(i.a)({complete:e},a))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function _(e,t){return v.apply(this,arguments)}function v(){return(v=Object(d.a)(f.a.mark((function e(t,a){var n,r,c,l,o,u,s,b,d,p;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.shared,r=n.header,c=n.labels,l=Object(i.a)(Object(i.a)({},a.parse),{},{header:r}),e.next=4,m(t,l);case 4:o=e.sent,u=o.data,s=r?o.meta.fields:u[0].map((function(e,t){return t})),b={_labels:[]},d=0;case 9:if(!(d<u.length-1)){e.next=34;break}p=0;case 11:if(!(p<s.length)){e.next=31;break}if(!c){e.next=22;break}if(0!==d||0===p){e.next=16;break}return b[s[p]]=[u[d][s[p]]],e.abrupt("continue",28);case 16:if(0!==p){e.next=19;break}return b._labels.push(u[d][s[p]]),e.abrupt("continue",28);case 19:0!==d&&0!==p&&b[s[p]].push(u[d][s[p]]),e.next=28;break;case 22:if(0!==d){e.next=27;break}return b[s[p]]=[u[d][s[p]]],e.abrupt("continue",28);case 27:b[s[p]].push(u[d][s[p]]);case 28:p++,e.next=11;break;case 31:d++,e.next=9;break;case 34:return b._keys=s.splice(1),e.abrupt("return",b);case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k={parse:{},chart:{type:"line"},shared:{header:!0,labels:!0}};var E=Object(u.a)({reducer:{data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=(n=void 0===n?{}:n).data,c=n.changed;switch(a){case"UPDATE_CONFIG":if(c)return null!==r&&void 0!==r?r:null;default:return e}},config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=(n=void 0===n?{}:n).config;switch(a){case"UPDATE_CONFIG":if(!y(r)){var c=e.parse,l=e.chart,o=e.shared,u=r.parse,s=r.chart,f=r.shared;return{parse:y(u)?c:Object(i.a)(Object(i.a)({},c),u),chart:y(s)?l:Object(i.a)(Object(i.a)({},l),s),shared:y(f)?o:Object(i.a)(Object(i.a)({},o),f)}}default:return e}}}}),O=(a(34),a(19)),S=a(2),x=a.n(S);var j=Object(o.b)((function(e){return{data:e.data,config:e.config}}),{updateConfig:function(e){return function(t){var a=e.config,n=e.file,r=e.changed,c={type:"UPDATE_CONFIG",payload:{config:a,changed:r}};return r?n?_(n,a).then((function(e){return c.payload.data=e,t(c)})):(c.payload.data=null,t(c)):t(c)}}})((function(e){var t,a,n=e.data,c=e.config,l=(c.parse,c.chart,c.shared),o=e.updateConfig,u=r.a.useRef(),i=r.a.useRef(),s=r.a.useState(l.header),f=Object(b.a)(s,2),d=f[0],p=f[1],h=r.a.useState(l.labels),m=Object(b.a)(h,2),g=m[0],y=m[1],_=r.a.useState(!1),v=Object(b.a)(_,2),k=v[0],E=v[1],S=r.a.useState(),j=Object(b.a)(S,2),C=j[0],w=j[1];return r.a.createElement("div",{className:x.a.container+" "+(n?x.a.containerClosed:"")},r.a.createElement("h1",null,"CSV Grapher"," ",r.a.createElement("br",null),r.a.createElement("small",null,"by ",r.a.createElement("a",{href:"http://www.github.com/cirqlar"},"cirqlar"))),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o({file:C,changed:k,config:{shared:{header:d,labels:g}}}),E(!1)},className:x.a.form,ref:i},r.a.createElement("label",{htmlFor:"file",className:x.a.fileLabel,title:n||C&&k?C.name:"Select File"},n||C&&k?(t=C.name,a=n?10:20,t.length>a?Object(O.a)(t).splice(0,a-3).join("").concat("..."):t):"Select File"),r.a.createElement("input",{type:"file",id:"file",ref:u,accept:".csv,.txt",style:{display:"none"},onChange:function(){w(u.current.files[0]),E(!0)}}),r.a.createElement("div",{className:x.a.config},r.a.createElement("input",{type:"checkbox",id:"header",checked:d,onChange:function(e){p(e.target.checked),E(!0)}}),r.a.createElement("label",{htmlFor:"header",className:x.a.checkbox},"Header"),r.a.createElement("input",{type:"checkbox",id:"labels",checked:g,onChange:function(e){y(e.target.checked),E(!0)}}),r.a.createElement("label",{htmlFor:"labels",className:x.a.checkbox},"Labels")),r.a.createElement("button",{type:"submit",className:"".concat(x.a.buttonForm," ").concat(x.a.buttonSubmit),disabled:!C||!k},"Submit"),r.a.createElement("button",{type:"reset",onClick:function(){i.current.reset(),w(),o({changed:!0,file:null})},disabled:!n&&!C,className:"".concat(x.a.buttonForm," ").concat(x.a.buttonClear)},"Clear")))})),C=a(17),w=a.n(C),F=["blue","green","grey","orange","purple","red","yellow"],N={blue:"rgb(54, 162, 235)",green:"rgb(75, 192, 192)",grey:"rgb(201, 203, 207)",orange:"rgb(255, 159, 64)",purple:"rgb(153, 102, 255)",red:"rgb(255, 99, 132)",yellow:"rgb(255, 205, 86)"};var P=function(){var e=r.a.useRef(),t=Object(o.d)((function(e){return e}),o.c),a=t.data;return t.config,r.a.useEffect((function(){var t=function(e,t){return new w.a(e,{type:"line",data:{labels:t._labels,datasets:t._keys.map((function(e,a){return{label:e,backgroundColor:N[F[a]],borderColor:N[F[a]],data:t[e],fill:!1}}))}})}(e.current.getContext("2d"),a);return function(){return t.destroy()}})),r.a.createElement("canvas",{ref:e})};var U=function(){var e=Object(o.d)((function(e){return e.data}),o.c);return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,null),e&&r.a.createElement(P,null))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:E},r.a.createElement(U,null))),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.224e4933.chunk.js.map